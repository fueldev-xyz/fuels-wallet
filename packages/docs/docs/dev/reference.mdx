---
title: API 参考
category: For Developers
---

# API 参考

## 添加 ABI

`addAbi(abiMap: AbiMap): Promise<boolean>`<br />
将 ABI 添加到用户的钱包中。

## 添加资产

`addAsset(asset: Asset): Promise<boolean>`<br />
请求用户为资产添加元数据到钱包。

## 添加资产

`addAssets(asset: Asset[]): Promise<boolean>`<br />
一次请求用户为多个资产添加元数据到钱包。

## 添加网络

`addNetwork(url: string): Promise<boolean>`<br />
请求用户添加一个新的网络。如果成功返回 true，否则返回 false。

## 清理

`clean(): void`<br />
清理 Fuel SDK 使用的存储空间，用于跟踪所选连接器。

## 连接

`connect(): Promise<boolean>`<br />
请求权限开始项目与钱包之间的连接。返回连接状态。

## 当前账户

`currentAccount(): Promise<string | null>`<br />
返回钱包应用程序中正在使用的当前账户。
如果所选账户未被授权连接，则返回 null。

## 当前连接器

`currentConnector(): FuelConnector`<br />
返回当前选择的连接器。

## 当前网络

`currentNetwork(): Promise<Network>`<br />
返回钱包应用程序中正在使用的当前网络。

## 销毁

`destroy(): void`<br />
移除所有监听器并清理存储。

## 断开连接

`disconnect(): Promise<boolean>`<br />
将项目与钱包断开连接。返回连接状态。

## 事件

在发生某些操作时，Fuel 会触发事件。可以使用 `on` 方法监听这些事件。

事件 API 遵循原生 Node.js 的 `EventEmitter`，支持 `on`、`once` 和 `off`。
可以从 `@fuels` 包导入事件枚举 `FuelConnectorEventTypes`。

### 使用方法

`fuel` 对象有一个 `events` 属性，它是可以监听的所有事件的枚举。<br />
`on` 方法接受两个参数，事件名称和回调函数。回调函数接收与事件相关的数据。

```ts
fuel.on(fuel.events.connection, (connectionState) => {
  console.log(connectionState);
});
```

### 事件类型

| 事件               | 触发                     | 参数                    |
| ------------------ | ------------------------ | ----------------------- |
| `connectors`       | 连接器变化               | `Array<FuelConnector>`  |
| `currentConnector` | 当前连接器变化           | `FuelConnector`         |
| `accounts`         | 可用账户变化             | `Array<string>`         |
| `currentAccount`   | 当前账户变化             | `string \| null`        |
| `connection`       | 连接状态变化             | `boolean`               |
| `currentNetwork`   | 当前网络变化             | `Network`               |
| `assets`           | 资产元数据变化           | `Array<Asset>`          |

## 获取 ABI

`getABI(contractId: string): Promise<JsonAbi>`<br />
返回给定 contractId 的 ABI，如果找不到则返回 null。

## 获取连接状态

`isConnected(): Promise<boolean>`<br />
返回应用程序连接的状态。

## 获取连接器

`getConnector(connectorName: string): FuelConnector`<br />
返回具有给定名称的连接器。

## 获取钱包

`getWallet(address: string | AbstractAddress, provider?: Provider): Promise<Account>`<br />
返回一个 `Account` 实例，可用于合约、转账和其他交互。

## 是否有 ABI

`hasABI(contractId: string): Promise<boolean>`<br />
返回一个布尔值，指示给定 contractId 的 ABI 是否已找到。

## 是否有连接器

`hasConnector(connectorName?: string | FuelConnector): Promise<boolean>`<br />
检查是否存在任何连接器，如果提供了连接器，则检查其是否可用。

## 列出账户

`accounts(): Promise<Array<string>>`<br />
返回当前连接授权的账户列表。

## 列出资产

`assets(): Promise<Array<Asset>>`<br />
返回当前钱包中的资产列表。

## 列出连接器

`connectors(): Promise<Array<FuelConnector>>`<br />
返回带有可用性元数据的连接器列表。

## 列出网络

`networks(): Promise<Array<Network>>`<br />
返回当前钱包中的网络列表。

## 请求签名消息

`async signMessage(address: string, message: string): Promise<string>`<br />
请求特定账户签署消息。

## 选择连接器

`selectConnector(connectorName: string): Promise<boolean>` <br />
此方法将检查所需的连接器是否已安装。如果在 1 秒内未检测到，该方法将抛出错误。

## 选择网络

`selectNetwork(url: string): Promise<boolean>`<br />
请求用户切换到另一个网络。如果成功返回 true，否则返回 false。

## 发送交易

`async sendTransaction(address: string, transaction: TransactionRequestLike): Promise<string>`<br />
请求特定用户账户发送交易。

## 取消订阅全部

`unsubscribe(): void`<br />
移除所有打开的监听器。当您想要处理 Fuel 实例并避免内存泄漏时，这很有用。

## 版本

`version(): Promise<string>`<br />
返回钱包和网络支持的当前版本。
